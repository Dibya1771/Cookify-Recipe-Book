{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nsank\\\\OneDrive\\\\Desktop\\\\Recipe-Book\\\\Client\\\\app_recipe\\\\src\\\\Components\\\\Meal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport MealItem from './MealItem';\n// import RecipeIndex from './RecipeIndex'\nimport { useState } from 'react';\nimport { ImSearch } from \"react-icons/im\";\nimport Pagination from './Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Meal = () => {\n  _s();\n  const [url, setUrl] = useState(\"http://localhost:3008/meals\");\n  const [item, setItem] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState([1]);\n  const [itemsPerPage, setItemsPerPage] = useState([5]);\n  const [totalPages, setTotalPages] = useState(1);\n  useEffect(() => {\n    //    fetch(url).then(res=>res.json().then(data=>{\n    //     console.log(data.meals);\n    //     setItem(data.meals);\n    //     setShow(true);\n    const fetchItems = async () => {\n      setLoading(true);\n      await fetch(url).then(data => data.json()).then(item => {\n        console.log(item);\n        setItem(item);\n        setLoading(false);\n      });\n    };\n    fetchItems();\n  }, [url]);\n  // const setIndex=(alpha)=>{\n  //     setUrl(`https://www.themealdb.com/api/json/v1/1/search.php?f=${alpha}`)\n  // }\n  // const searchRecipe=(ev)=>{\n  //     if(ev.key==\"Enter\")\n  //         setUrl(`https://www.themealdb.com/api/json/v1/1/search.php?s=${search}`)\n  // }\n\n  //Get Current Items\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = item.slice(indexOfFirstItem, indexOfLastItem);\n\n  //Change Page\n  const paginate = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n\n  //Pagination\n  const getData = async () => {\n    let url1 = `http://localhost:3008/meals?_page=${currentPage}&_limit=10`;\n    if (search) {\n      url1 += `&q=${search}`;\n    }\n    const response = await fetch(url1, {\n      method: \"GET\"\n    });\n    const data = await response.json();\n    const totalCount = response.headers.get(\"X-Total-Count\");\n    const totalPages = Math.ceil(totalCount / 10);\n    setItem(data);\n    setTotalPages(totalPages);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Search Your Food Recipe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat assumenda tempore a eos minima? Velit temporibus, ab fuga eos impedit tempore enim quidem repudiandae modi saepe recusandae, ea, incidunt quis. Mollitia, laboriosam odit. Voluptatum.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(MealItem, {\n          data: currentItems,\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Pagination\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          itemsPerPage: itemsPerPage,\n          totalItems: item.length,\n          paginate: paginate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination\",\n        children: Array.from({\n          length: totalPages\n        }, (_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"pagination_button\",\n          onClick: () => handlePageChange(index + 1),\n          className: currentPage === index + 1 ? \"active\" : \"pageNumber\",\n          children: index + 1\n        }, index + 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(Meal, \"C6ECXd+9aFvhOaFFwrByuxrLXH4=\");\n_c = Meal;\nexport default Meal;\nvar _c;\n$RefreshReg$(_c, \"Meal\");","map":{"version":3,"names":["React","useEffect","MealItem","useState","ImSearch","Pagination","jsxDEV","_jsxDEV","Fragment","_Fragment","Meal","_s","url","setUrl","item","setItem","search","setSearch","loading","setLoading","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","totalPages","setTotalPages","fetchItems","fetch","then","data","json","console","log","indexOfLastItem","indexOfFirstItem","currentItems","slice","paginate","pageNumber","getData","url1","response","method","totalCount","headers","get","Math","ceil","children","className","fileName","_jsxFileName","lineNumber","columnNumber","totalItems","length","Array","from","_","index","id","onClick","handlePageChange","_c","$RefreshReg$"],"sources":["C:/Users/nsank/OneDrive/Desktop/Recipe-Book/Client/app_recipe/src/Components/Meal.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport MealItem from './MealItem'\r\n// import RecipeIndex from './RecipeIndex'\r\nimport { useState} from 'react'\r\nimport {ImSearch} from \"react-icons/im\";\r\nimport Pagination from './Pagination';\r\nconst Meal = () => {\r\n    const [url,setUrl]=useState(\"http://localhost:3008/meals\");\r\n    const [item,setItem]=useState([]);\r\n    const [search,setSearch]=useState(\"\");\r\n    const [loading,setLoading]=useState(false);\r\n    const [currentPage,setCurrentPage]=useState([1]);\r\n    const [itemsPerPage,setItemsPerPage]=useState([5]);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n    \r\n    useEffect(()=>{\r\n    //    fetch(url).then(res=>res.json().then(data=>{\r\n    //     console.log(data.meals);\r\n    //     setItem(data.meals);\r\n    //     setShow(true);\r\n            const fetchItems=async()=>{\r\n            setLoading(true);\r\n            await fetch(url)\r\n            .then(data => data.json()\r\n            )\r\n            .then(item => {\r\n            console.log(item);\r\n            setItem(item);\r\n            setLoading(false);\r\n            })\r\n        }\r\n       fetchItems();\r\n    },[url])\r\n    // const setIndex=(alpha)=>{\r\n    //     setUrl(`https://www.themealdb.com/api/json/v1/1/search.php?f=${alpha}`)\r\n    // }\r\n    // const searchRecipe=(ev)=>{\r\n    //     if(ev.key==\"Enter\")\r\n    //         setUrl(`https://www.themealdb.com/api/json/v1/1/search.php?s=${search}`)\r\n    // }\r\n\r\n    //Get Current Items\r\n    const indexOfLastItem =currentPage*itemsPerPage;\r\n    const indexOfFirstItem=indexOfLastItem-itemsPerPage;\r\n    const currentItems=item.slice(indexOfFirstItem,indexOfLastItem);\r\n\r\n    //Change Page\r\n    const paginate=(pageNumber)=>{\r\n        setCurrentPage(pageNumber);\r\n        }\r\n        \r\n     \r\n    //Pagination\r\n    const getData = async () => {\r\n        let url1 = `http://localhost:3008/meals?_page=${currentPage}&_limit=10`;\r\n        if (search) {\r\n            url1 += `&q=${search}`;\r\n        }\r\n        \r\n        const response = await fetch(url1, {\r\n            method: \"GET\",\r\n        });\r\n        \r\n        const data = await response.json();\r\n        const totalCount = response.headers.get(\"X-Total-Count\");\r\n        const totalPages = Math.ceil(totalCount / 10);\r\n        \r\n        setItem(data);\r\n        setTotalPages(totalPages);\r\n        };\r\n\r\n  return (\r\n    <>\r\n    <div className=\"main\">\r\n        <div className=\"heading\">\r\n            <h1>Search Your Food Recipe</h1>\r\n            <h4>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat assumenda tempore a eos minima? Velit temporibus, ab fuga eos impedit tempore enim quidem repudiandae modi saepe recusandae, ea, incidunt quis. Mollitia, laboriosam odit. Voluptatum.</h4>\r\n        </div>\r\n        {/* <div className='searchBox'>\r\n            <input type=\"search\" className=\"search-bar\" onChange={e=>setSearch(e.target.value)} onKeyDown={searchRecipe}/>\r\n            <button><ImSearch size={15}/></button>\r\n        </div> */}\r\n        <div className=\"container\">\r\n            \r\n            {\r\n                <MealItem data={currentItems} loading={loading} />\r\n            }\r\n        </div>\r\n        <div className=\"Pagination\">\r\n            <Pagination itemsPerPage={itemsPerPage} totalItems={item.length} paginate={paginate}/>\r\n        </div>\r\n        {/* <div className='indexContainer'>\r\n            <RecipeIndex alphaIndex={(alpha)=>setIndex(alpha)}/>\r\n        </div> */}\r\n        \r\n\r\n\r\n  <div className=\"pagination\">\r\n  {Array.from({ length: totalPages }, (_, index) => (\r\n      <button\r\n         key={index + 1}\r\n         id='pagination_button'\r\n         onClick={() => handlePageChange(index + 1)}\r\n         className={currentPage === index + 1 ? \"active\" : \"pageNumber\"}\r\n       >\r\n         {index + 1}\r\n       </button>\r\n     ))}\r\n   </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Meal"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}